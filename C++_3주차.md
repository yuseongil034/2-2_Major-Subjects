# C++ 프로그래밍 기초 - 제어구조와 배열

> 이 문서는 C++ 프로그래밍의 기본적인 제어구조(조건문, 반복문)와 배열을 초보자도 쉽게 이해할 수 있도록 정리한 학습 노트입니다.

---

## 📚 목차

1. [관계연산자와 논리연산자](#1-관계연산자와-논리연산자)
2. [조건문 (if-else, switch)](#2-조건문-if-else-switch)
3. [반복문 (while, do-while, for)](#3-반복문-while-do-while-for)
4. [배열 (1차원, 2차원)](#4-배열-1차원-2차원)
5. [실전 예제](#5-실전-예제)

---

## 1. 관계연산자와 논리연산자

### 관계연산자란?

관계연산자는 두 값을 비교해서 **참(true)** 또는 **거짓(false)**을 알려주는 연산자입니다.  
마치 "A가 B보다 큰가요?"라고 물어보는 것과 같아요.

| 연산자 | 의미 | 예시 | 결과 |
|--------|------|------|------|
| `==` | 같다 | `5 == 5` | true |
| `!=` | 같지 않다 | `5 != 3` | true |
| `>` | 크다 | `5 > 3` | true |
| `<` | 작다 | `5 < 3` | false |
| `>=` | 크거나 같다 | `5 >= 5` | true |
| `<=` | 작거나 같다 | `3 <= 5` | true |

#### 💡 bool 자료형

```cpp
bool b;
b = (1 == 2);  // false
cout << boolalpha;  // true/false로 출력
cout << b;  // "false" 출력
```

- `bool`은 참/거짓 값만 저장하는 자료형입니다.
- `boolalpha`를 쓰면 1/0 대신 true/false로 출력됩니다.

### 논리연산자

여러 조건을 **조합**할 때 사용합니다. 마치 "A이고 동시에 B이다" 같은 표현이에요.

| 연산자 | 의미 | 예시 | 설명 |
|--------|------|------|------|
| `&&` | AND (그리고) | `(x == 3) && (y == 3)` | 둘 다 참이어야 참 |
| `\|\|` | OR (또는) | `(x == 3) \|\| (y == 3)` | 하나만 참이면 참 |
| `!` | NOT (부정) | `!(x == 3)` | 참을 거짓으로, 거짓을 참으로 |

#### 예시로 이해하기

```cpp
int age = 20;
bool hasID = true;

// 나이가 19세 이상이고(&&) 신분증이 있으면
if (age >= 19 && hasID) {
    cout << "입장 가능합니다.";
}

// 학생이거나(||) 65세 이상이면
if (isStudent || age >= 65) {
    cout << "할인됩니다.";
}
```

---

## 2. 조건문 (if-else, switch)

### if-else 문

**"만약 ~라면 A를 해라, 아니면 B를 해라"** 라는 구조입니다.

```cpp
if (조건식) {
    // 조건이 참일 때 실행
} else {
    // 조건이 거짓일 때 실행
}
```

#### 기본 예제

```cpp
int x, y;
cout << "x값을 입력하시오: ";
cin >> x;
cout << "y값을 입력하시오: ";
cin >> y;

if (x > y) {
    cout << "x가 y보다 큽니다." << endl;
} else {
    cout << "y가 x보다 큽니다." << endl;
}
```

### 중첩 if-else 문

**3개 이상의 경우**를 나눌 때 사용합니다. `else if`를 활용하면 돼요.

```cpp
if (조건1) {
    // 조건1이 참
} else if (조건2) {
    // 조건1은 거짓, 조건2가 참
} else {
    // 모든 조건이 거짓
}
```

#### 나이별 구분 예제

```cpp
int age;
cout << "나이를 입력하시오: ";
cin >> age;

if (age <= 12) {
    cout << "어린이입니다." << endl;
} else if (age <= 19) {
    cout << "청소년입니다." << endl;
} else {
    cout << "성인입니다." << endl;
}
```

⚠️ **주의사항**: 조건의 순서가 매우 중요합니다!

```cpp
// ❌ 잘못된 예시 (논리 오류)
if (age <= 19) {
    cout << "청소년입니다.";
} else if (age <= 12) {  // 이 조건은 절대 실행 안됨!
    cout << "어린이입니다.";
}
```

위 코드에서는 12세가 입력되어도 첫 번째 조건 `age <= 19`에서 이미 참이 되어버려서, 두 번째 조건은 **영원히 실행되지 않습니다**.

### switch 문

**정확히 일치하는 값**에 따라 분기할 때 유용합니다. 메뉴 선택이나 숫자 변환 등에 적합해요.

```cpp
switch (변수) {
    case 값1:
        // 실행할 코드
        break;
    case 값2:
        // 실행할 코드
        break;
    default:
        // 위의 경우가 모두 아닐 때
        break;
}
```

#### 예제

```cpp
int number;
cout << "숫자를 입력하시오: ";
cin >> number;

switch (number) {
    case 0:
        cout << "zero\n";
        break;
    case 1:
        cout << "one\n";
        break;
    case 2:
        cout << "two\n";
        break;
    default:
        cout << "many\n";
        break;
}
```

⚠️ **break를 꼭 써야 하는 이유**

```cpp
switch (number) {
    case 1:
        cout << "one\n";
        // break가 없으면?
    case 2:
        cout << "two\n";
        break;
}
```

만약 `number = 1`을 입력하면:
```
one
two
```
둘 다 출력됩니다! `break`가 없으면 다음 case로 **떨어져서(fall through)** 계속 실행되기 때문이에요.

---

## 3. 반복문 (while, do-while, for)

### while 루프

**"조건이 참인 동안 계속 반복해!"** 라는 의미입니다.

```cpp
while (조건식) {
    // 반복할 코드
}
```

#### 카운트다운 예제

```cpp
int n = 10;
while (n > 0) {
    cout << n << " ";
    n--;  // n을 1씩 감소
}
cout << "발사!\n";
// 출력: 10 9 8 7 6 5 4 3 2 1 발사!
```

#### 구구단 예제

```cpp
int n, i = 1;
cout << "구구단 중에서 출력하고 싶은 단을 입력하시오: ";
cin >> n;

while (i <= 9) {
    cout << n << "*" << i << "=" << n * i << endl;
    i++;
}
```

### do-while 루프

while과 비슷하지만, **조건을 나중에 검사**합니다.  
그래서 **최소 1번은 무조건 실행**됩니다.

```cpp
do {
    // 반복할 코드
} while (조건식);
```

#### 사용자 입력 반복 예제

```cpp
string str;
do {
    cout << "문자열을 입력하시오: ";
    getline(cin, str);  // 한 줄 전체를 입력받음
    cout << "사용자의 입력: " << str << '\n';
} while (str != "종료");  // "종료"를 입력하기 전까지 반복
```

💡 **while vs do-while 차이점**

```cpp
// while: 조건이 처음부터 거짓이면 1번도 실행 안됨
int x = 0;
while (x > 0) {
    cout << "실행됨";  // 실행 안됨
}

// do-while: 조건과 관계없이 최소 1번은 실행
do {
    cout << "실행됨";  // 1번 실행됨
} while (x > 0);
```

### for 루프

**반복 횟수가 정해져 있을 때** 가장 많이 사용합니다.

```cpp
for (초기식; 조건식; 증감식) {
    // 반복할 코드
}
```

실행 순서:
1. **초기식** 실행 (맨 처음 1번만)
2. **조건식** 확인 (참이면 계속, 거짓이면 종료)
3. **반복할 코드** 실행
4. **증감식** 실행
5. 2번으로 돌아감

#### 1부터 10까지 합 구하기

```cpp
int sum = 0;
for (int i = 1; i <= 10; i++) {
    sum += i;
}
cout << "1부터 10까지의 정수의 합 = " << sum << endl;
// 출력: 55
```

과정을 표로 보면:

| 반복 | i | sum |
|------|---|-----|
| 1회 | 1 | 1 |
| 2회 | 2 | 3 |
| 3회 | 3 | 6 |
| ... | ... | ... |
| 10회 | 10 | 55 |

#### 팩토리얼 계산

$$ n! = n \times (n-1) \times (n-2) \times \cdots \times 2 \times 1 $$

```cpp
long fact = 1;
int n;
cout << "정수를 입력하시오: ";
cin >> n;

for (int i = 1; i <= n; i++) {
    fact = fact * i;
}
cout << n << "!은 " << fact << "입니다.\n";
```

예: $$ 5! = 5 \times 4 \times 3 \times 2 \times 1 = 120 $$

⚠️ **변수 선언 위치에 따른 차이**

```cpp
// 방법 1: for문 안에서 선언
for (int i = 1; i <= 10; i++) {
    sum += i;
}
cout << i;  // ❌ 오류! i는 for문 안에서만 유효

// 방법 2: for문 밖에서 선언
int i = 0;
for (i = 1; i <= 10; i++) {
    sum += i;
}
cout << i;  // ✅ 가능! i = 11 출력됨
```

### break와 continue

#### break: 반복문 즉시 종료

```cpp
for (int i = 1; i < 10; i++) {
    cout << i << " ";
    if (i == 4)
        break;  // i가 4가 되면 반복문 종료
}
// 출력: 1 2 3 4
```

#### continue: 현재 반복만 건너뛰기

```cpp
for (int i = 1; i <= 5; i++) {
    if (i == 3)
        continue;  // i가 3일 때는 아래 코드를 건너뜀
    cout << i << " ";
}
// 출력: 1 2 4 5 (3은 출력 안됨)
```

---

## 4. 배열 (1차원, 2차원)

### 1차원 배열

배열은 **같은 종류의 데이터를 여러 개 저장하는 저장공간**입니다.  
마치 사물함이 여러 개 나란히 있는 것과 같아요.

```cpp
자료형 배열이름[크기];
```

#### 선언과 사용

```cpp
int scores[10];  // 10개의 정수를 저장할 수 있는 배열

scores[0] = 85;  // 첫 번째 칸에 85 저장
scores[1] = 90;  // 두 번째 칸에 90 저장
```

⚠️ **중요**: 배열의 인덱스(번호)는 **0부터 시작**합니다!

```
scores[10] 배열의 구조:
┌────┬────┬────┬────┬────┬────┬────┬────┬────┬────┐
│ 85 │ 90 │ 78 │ 92 │ 88 │ 95 │ 77 │ 85 │ 90 │ 82 │
└────┴────┴────┴────┴────┴────┴────┴────┴────┴────┘
  [0]  [1]  [2]  [3]  [4]  [5]  [6]  [7]  [8]  [9]
```

#### 학생 성적 평균 구하기

```cpp
int scores[10];
int sum = 0;

// 성적 입력
for (int i = 0; i < 10; i++) {
    cout << "학생들의 성적을 입력하시오: ";
    cin >> scores[i];
}

// 합계 계산
for (int i = 0; i < 10; i++) {
    sum += scores[i];
}

int average = sum / 10;
cout << "성적 평균= " << average << endl;
```

평균 공식: $$ \text{평균} = \frac{\sum_{i=0}^{9} \text{scores}[i]}{10} $$

#### 배열 초기화 방법

```cpp
// 방법 1: 모든 값 초기화
int sales[5] = {100, 200, 300, 400, 500};

// 방법 2: 일부만 초기화 (나머지는 0)
int sales[5] = {100, 200, 300};  // {100, 200, 300, 0, 0}

// 방법 3: 크기 생략 (자동으로 7개)
int sales[] = {100, 200, 300, 400, 500, 600, 700};

// 방법 4: = 없이 초기화 (C++11 이상)
int sales[] {100, 200, 300, 400, 500};
```

### 범위 기반 for 루프 (C++11)

배열의 모든 요소를 쉽게 순회하는 방법입니다.

```cpp
int list[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

// 배열의 모든 요소를 순회
for (int i : list) {
    cout << i << " ";
}
// 출력: 1 2 3 4 5 6 7 8 9 10
```

#### 값 복사 vs 참조

```cpp
int list[] = {1, 2, 3, 4, 5};

// ❌ 원본이 변경 안됨 (복사본만 수정)
for (int i : list) {
    i = i * i;
}
// list는 여전히 {1, 2, 3, 4, 5}

// ✅ 원본이 변경됨 (참조 사용)
for (int& i : list) {  // &를 붙이면 참조!
    i = i * i;
}
// list가 {1, 4, 9, 16, 25}로 변경됨
```

💡 **&(참조자)의 의미**: 복사본이 아닌 **원본 그 자체**를 다룹니다.

### 2차원 배열

**표(table) 형태**의 데이터를 저장할 때 사용합니다.

```cpp
자료형 배열이름[행][열];
```

#### 구조 이해하기

```cpp
int s[3][5];  // 3행 5열 배열
```

```
        [0] [1] [2] [3] [4]
[0]     10  20  30  40  50
[1]     11  21  31  41  51
[2]     12  22  32  42  52
```

- `s[0][0]` = 10
- `s[1][2]` = 31
- `s[2][4]` = 52

#### 초기화

```cpp
int s[3][5] = {
    {1, 2, 3, 4, 5},      // 첫 번째 행
    {2, 4, 6, 8, 10},     // 두 번째 행
    {3, 6, 9, 12, 15}     // 세 번째 행
};
```

#### 구구단표 만들기

```cpp
int table[3][9];

// 구구단 값 채우기 (1단, 2단, 3단)
for (int r = 0; r < 3; r++) {
    for (int c = 0; c < 9; c++) {
        table[r][c] = (r + 1) * (c + 1);
    }
}

// 출력하기
for (int r = 0; r < 3; r++) {
    for (int c = 0; c < 9; c++) {
        cout << table[r][c] << ", ";
    }
    cout << endl;
}
```

출력 결과:
```
1, 2, 3, 4, 5, 6, 7, 8, 9,
2, 4, 6, 8, 10, 12, 14, 16, 18,
3, 6, 9, 12, 15, 18, 21, 24, 27,
```

💡 **#define으로 상수 정의하기**

```cpp
#define WIDTH 9
#define HEIGHT 3

int table[HEIGHT][WIDTH];  // 크기 변경이 쉬워짐
```

---

## 5. 실전 예제

### 예제 1: 비밀 코드 맞추기

```cpp
char secret_code = 'h';
char code;

cout << "비밀코드를 맞춰보세요: ";
cin >> code;

if (code < secret_code) {
    cout << code << " 뒤에 있음" << endl;
} else if (code > secret_code) {
    cout << code << " 앞에 있음" << endl;
} else {
    cout << "맞추었습니다." << endl;
}
```

💡 **문자 비교**: 알파벳 순서로 비교됩니다.
- 'a'의 ASCII 코드: 97
- 'h'의 ASCII 코드: 104
- 따라서 'a' < 'h'는 참입니다.

### 예제 2: 세 개의 정수 중 최댓값 찾기

```cpp
int a, b, c, largest;

cout << "3개의 정수를 입력하시오: ";
cin >> a >> b >> c;

if (a > b && a > c) {
    largest = a;  // a가 b보다 크고 c보다도 크면
} else if (b > a && b > c) {
    largest = b;  // b가 a보다 크고 c보다도 크면
} else {
    largest = c;  // 나머지 경우는 c가 제일 큼
}

cout << "가장 큰 정수는 " << largest << endl;
```

논리:
- 3개 중 하나는 **반드시 제일 큼**
- a도 제일 크지 않고, b도 제일 크지 않으면 → c가 제일 큼

### 예제 3: 자음과 모음 개수 세기

```cpp
int vowel = 0, consonant = 0;
char ch;

cout << "영문자를 입력하고 Ctrl-Z를 치세요" << endl;

while (cin >> ch) {
    switch (ch) {
        case 'a': case 'e': case 'i': case 'o': case 'u':
            vowel++;
            break;
        default:
            consonant++;
            break;
    }
}

cout << "모음: " << vowel << endl;
cout << "자음: " << consonant << endl;
```

💡 **switch의 fall-through 활용**: break 없이 여러 case를 연결하면 "a, e, i, o, u 중 하나라도"라는 조건이 됩니다.

### 예제 4: 숫자 맞추기 게임

```cpp
#include <time.h>

srand(time(NULL));  // 난수 초기화
int answer = rand() % 100;  // 0~99 사이의 난수
int guess;
int tries = 0;

do {
    cout << "정답을 추측하여 보시오: ";
    cin >> guess;
    tries++;
    
    if (guess > answer)
        cout << "제시한 정수가 높습니다.\n";
    if (guess < answer)
        cout << "제시한 정수가 낮습니다.\n";
} while (guess != answer);

cout << "축하합니다. 시도 횟수=" << tries << endl;
```

💡 **난수 생성**:
- `srand(time(NULL))`: 현재 시간으로 난수 초기화 (매번 다른 난수)
- `rand() % 100`: 0부터 99까지의 난수 생성

### 예제 5: 배열에서 최댓값 찾기

```cpp
int list[10];
int max;

// 배열을 난수로 채우기
for (int& elem : list) {
    elem = rand() % 100 + 1;  // 1~100 사이의 난수
    cout << elem << " ";
}
cout << endl;

// 최댓값 찾기
max = list[0];  // 첫 번째 값을 최댓값이라 가정
for (int elem : list) {
    if (elem > max) {
        max = elem;  // 더 큰 값을 발견하면 갱신
    }
}

cout << "최대값=" << max << endl;
```

알고리즘:
1. 첫 번째 값을 일단 최댓값이라고 **가정**
2. 나머지 값들과 하나씩 비교
3. 더 큰 값이 나타나면 **갱신**

---

## 🎯 핵심 정리

### 조건문 선택 기준

- **if-else**: 범위 비교, 복잡한 조건
- **switch**: 정확한 값 매칭 (정수, 문자)

### 반복문 선택 기준

- **for**: 반복 횟수가 **정해져 있을 때**
- **while**: 조건이 만족되는 **동안** 반복
- **do-while**: **최소 1번은 실행**해야 할 때

### 배열 사용 팁

- 인덱스는 **0부터 시작**
- 범위 기반 for: 간편하게 순회
- 참조자(`&`): 원본 수정 가능
- 상수(`const` 또는 `#define`)로 크기 관리

### 자주 하는 실수 ⚠️

1. **조건문 순서 오류**: 넓은 조건을 먼저 쓰면 좁은 조건이 실행 안됨
2. **switch에 break 빠뜨림**: 의도치 않은 fall-through 발생
3. **배열 인덱스 범위 초과**: `arr[10]`은 10개 배열의 11번째 칸 (존재하지 않음!)
4. **변수 초기화 안함**: 쓰레기 값이 들어있을 수 있음

---

## 📝 연습 문제

1. 사용자로부터 10개의 정수를 입력받아 **최솟값과 최댓값**을 출력하는 프로그램을 작성하세요.

2. 1부터 100까지의 수 중에서 **3의 배수의 합**을 구하는 프로그램을 작성하세요.

3. 5x5 크기의 2차원 배열을 만들고, **대각선 요소의 합**을 계산하세요.
   $$ \text{대각선 합} = \sum_{i=0}^{4} \text{arr}[i][i] $$

4. 사용자가 입력한 문자열을 **거꾸로 뒤집어** 출력하는 프로그램을 작성하세요.

---

## 🔗 참고 자료

- C++ Reference: https://en.cppreference.com/
- 배열과 포인터의 관계는 다음 챕터에서 다룹니다.
- 함수를 활용하면 코드를 더 깔끔하게 정리할 수 있습니다.

---

**작성일**: 2025년 10월  
**버전**: 1.0  
**라이선스**: MIT License
