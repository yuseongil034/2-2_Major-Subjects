# 🔢 다중적분(이중적분, 삼중적분) 실전 가이드

## 🎯 1. 기본 공식

### 📐 이중적분 (Double Integral)

**직사각형 영역에서**
$$\iint_R f(x,y) \, dA = \int_a^b \int_c^d f(x,y) \, dy \, dx = \int_c^d \int_a^b f(x,y) \, dx \, dy$$

**일반 영역에서**
- **Type I**: $$D = \{(x,y) : a \leq x \leq b, \, g_1(x) \leq y \leq g_2(x)\}$$
  $$\iint_D f(x,y) \, dA = \int_a^b \int_{g_1(x)}^{g_2(x)} f(x,y) \, dy \, dx$$

- **Type II**: $$D = \{(x,y) : c \leq y \leq d, \, h_1(y) \leq x \leq h_2(y)\}$$
  $$\iint_D f(x,y) \, dA = \int_c^d \int_{h_1(y)}^{h_2(y)} f(x,y) \, dx \, dy$$

### 🧊 삼중적분 (Triple Integral)

**직육면체 영역에서**
$$\iiint_E f(x,y,z) \, dV = \int_a^b \int_c^d \int_e^f f(x,y,z) \, dz \, dy \, dx$$

**일반 영역에서**
$$\iiint_E f(x,y,z) \, dV = \int_a^b \int_{g_1(x)}^{g_2(x)} \int_{h_1(x,y)}^{h_2(x,y)} f(x,y,z) \, dz \, dy \, dx$$

## 🔄 2. 좌표계 변환

### 🌀 극좌표 변환 (Polar Coordinates)
$$x = r\cos\theta, \quad y = r\sin\theta$$
$$dA = r \, dr \, d\theta$$

$$\iint_D f(x,y) \, dA = \iint_{D'} f(r\cos\theta, r\sin\theta) \cdot r \, dr \, d\theta$$

### 🎯 원통좌표 (Cylindrical Coordinates)
$$x = r\cos\theta, \quad y = r\sin\theta, \quad z = z$$
$$dV = r \, dr \, d\theta \, dz$$

$$\iiint_E f(x,y,z) \, dV = \iiint_{E'} f(r\cos\theta, r\sin\theta, z) \cdot r \, dr \, d\theta \, dz$$

### 🌍 구면좌표 (Spherical Coordinates)
$$x = \rho\sin\phi\cos\theta, \quad y = \rho\sin\phi\sin\theta, \quad z = \rho\cos\phi$$
$$dV = \rho^2 \sin\phi \, d\rho \, d\phi \, d\theta$$

$$\iiint_E f(x,y,z) \, dV = \iiint_{E'} f(\rho\sin\phi\cos\theta, \rho\sin\phi\sin\theta, \rho\cos\phi) \cdot \rho^2\sin\phi \, d\rho \, d\phi \, d\theta$$

## 🎯 3. 자주 나오는 문제 유형

### 📊 유형 1: 면적/부피 계산
- **면적**: $$A = \iint_D 1 \, dA$$
- **부피**: $$V = \iiint_E 1 \, dV$$ 또는 $$V = \iint_D f(x,y) \, dA$$

### ⚖️ 유형 2: 질량/무게중심
- **질량**: $$M = \iint_D \rho(x,y) \, dA$$ 또는 $$M = \iiint_E \rho(x,y,z) \, dV$$
- **무게중심**: $$\bar{x} = \frac{1}{M}\iint_D x\rho(x,y) \, dA$$

### 🔄 유형 3: 관성모멘트
- **$$x$$축**: $$I_x = \iint_D y^2 \rho(x,y) \, dA$$
- **원점**: $$I_0 = \iint_D (x^2 + y^2) \rho(x,y) \, dA$$

### 📈 유형 4: 평균값
$$\text{Average} = \frac{1}{\text{Area}}\iint_D f(x,y) \, dA = \frac{\iint_D f(x,y) \, dA}{\iint_D 1 \, dA}$$

## 🛠️ 4. 계산 테크닉

### 💡 핵심 전략

**1️⃣ 적분 순서 결정법**
- 내측 적분의 적분한계가 상수인지 확인
- 복잡한 함수를 나중에 적분하도록 순서 조정
- 대칭성 활용 가능한 순서 선택

**2️⃣ 좌표계 선택 기준**
- **극좌표**: 원, 환형, $$x^2 + y^2$$ 포함 함수
- **원통좌표**: 원기둥, 원뿔 관련 영역
- **구면좌표**: 구, $$x^2 + y^2 + z^2$$ 포함 함수

**3️⃣ 적분 영역 파악법**
- 경계곡선 방정식을 그래프로 그리기
- 교점 찾아서 적분구간 설정
- Type I, Type II 중 계산하기 쉬운 형태 선택

## 📝 5. 단계별 계산 예시

### 🔵 예시 1: Type I 이중적분
**문제**: $$\iint_D xy \, dA$$, 여기서 $$D$$는 $$y = x^2$$, $$y = 2x$$로 둘러싸인 영역

**풀이**:
1. **교점 찾기**: $$x^2 = 2x \Rightarrow x = 0, 2$$

2. **영역 설정**: $$0 \leq x \leq 2$$, $$x^2 \leq y \leq 2x$$

3. **적분 계산**:
   $$\iint_D xy \, dA = \int_0^2 \int_{x^2}^{2x} xy \, dy \, dx$$

4. **내측 적분**:
   $$\int_{x^2}^{2x} xy \, dy = x\left[\frac{y^2}{2}\right]_{x^2}^{2x} = x \cdot \frac{(2x)^2 - (x^2)^2}{2} = x \cdot \frac{4x^2 - x^4}{2}$$

5. **외측 적분**:
   $$\int_0^2 x \cdot \frac{4x^2 - x^4}{2} dx = \frac{1}{2}\int_0^2 (4x^3 - x^5) dx = \frac{1}{2}\left[x^4 - \frac{x^6}{6}\right]_0^2 = \frac{1}{2}(16 - \frac{64}{6}) = \frac{8}{3}$$

### 🟢 예시 2: 극좌표 이중적분
**문제**: $$\iint_D e^{x^2+y^2} \, dA$$, 여기서 $$D: x^2 + y^2 \leq 4$$

**풀이**:
1. **극좌표 변환**: $$x^2 + y^2 = r^2$$, $$dA = r \, dr \, d\theta$$

2. **영역 변환**: $$0 \leq r \leq 2$$, $$0 \leq \theta \leq 2\pi$$

3. **적분 계산**:
   $$\iint_D e^{x^2+y^2} \, dA = \int_0^{2\pi} \int_0^2 e^{r^2} \cdot r \, dr \, d\theta$$

4. **내측 적분** (치환: $$u = r^2$$, $$du = 2r \, dr$$):
   $$\int_0^2 e^{r^2} \cdot r \, dr = \frac{1}{2}\int_0^4 e^u \, du = \frac{1}{2}[e^u]_0^4 = \frac{e^4 - 1}{2}$$

5. **외측 적분**:
   $$\int_0^{2\pi} \frac{e^4 - 1}{2} d\theta = \frac{e^4 - 1}{2} \cdot 2\pi = \pi(e^4 - 1)$$

### 🟡 예시 3: 삼중적분 (직육면체)
**문제**: $$\iiint_E xyz \, dV$$, 여기서 $$E: 0 \leq x \leq 1, 0 \leq y \leq 2, 0 \leq z \leq 3$$

**풀이**:
1. **적분 설정**:
   $$\iiint_E xyz \, dV = \int_0^1 \int_0^2 \int_0^3 xyz \, dz \, dy \, dx$$

2. **변수 분리** ($$xyz = x \cdot y \cdot z$$):
   $$= \int_0^1 x \, dx \int_0^2 y \, dy \int_0^3 z \, dz$$

3. **각각 계산**:
   - $$\int_0^1 x \, dx = \frac{1}{2}$$
   - $$\int_0^2 y \, dy = 2$$  
   - $$\int_0^3 z \, dz = \frac{9}{2}$$

4. **최종 답**: $$\frac{1}{2} \times 2 \times \frac{9}{2} = \frac{9}{2}$$

### 🔴 예시 4: 구면좌표 삼중적분
**문제**: $$\iiint_E z \, dV$$, 여기서 $$E: x^2 + y^2 + z^2 \leq 1, z \geq 0$$

**풀이**:
1. **구면좌표 변환**: 
   - $$z = \rho\cos\phi$$
   - $$dV = \rho^2\sin\phi \, d\rho \, d\phi \, d\theta$$

2. **영역 변환**: 
   - $$0 \leq \rho \leq 1$$
   - $$0 \leq \phi \leq \frac{\pi}{2}$$ ($$z \geq 0$$)
   - $$0 \leq \theta \leq 2\pi$$

3. **적분 계산**:
   $$\iiint_E z \, dV = \int_0^{2\pi} \int_0^{\pi/2} \int_0^1 \rho\cos\phi \cdot \rho^2\sin\phi \, d\rho \, d\phi \, d\theta$$

4. **변수 분리**:
   $$= \int_0^{2\pi} d\theta \int_0^{\pi/2} \cos\phi\sin\phi \, d\phi \int_0^1 \rho^3 \, d\rho$$

5. **각각 계산**:
   - $$\int_0^{2\pi} d\theta = 2\pi$$
   - $$\int_0^{\pi/2} \cos\phi\sin\phi \, d\phi = \frac{1}{2}$$
   - $$\int_0^1 \rho^3 \, d\rho = \frac{1}{4}$$

6. **최종 답**: $$2\pi \times \frac{1}{2} \times \frac{1}{4} = \frac{\pi}{4}$$

## ⚠️ 6. 실수하기 쉬운 포인트

### 🚨 주요 실수 유형

**1️⃣ 적분 순서와 적분한계**
- 내측 적분한계에 외측 변수가 포함되어야 함
- $$\int_0^1 \int_0^x f(x,y) \, dy \, dx \neq \int_0^1 \int_0^x f(x,y) \, dx \, dy$$

**2️⃣ 좌표변환 시 야코비안 누락**
- 극좌표: $$dA = r \, dr \, d\theta$$ ($$r$$ 빼먹지 말 것!)
- 구면좌표: $$dV = \rho^2\sin\phi \, d\rho \, d\phi \, d\theta$$ ($$\rho^2\sin\phi$$ 전체!)

**3️⃣ 적분 영역 설정 오류**
- Type I과 Type II 혼동
- 교점 계산 실수
- 영역의 경계 누락

**4️⃣ 각도 범위 실수**
- 구면좌표에서 $$\phi$$는 $$0$$에서 $$\pi$$까지
- $$\theta$$는 보통 $$0$$에서 $$2\pi$$까지

## 🎯 7. 실전 풀이 팁

### 💪 효율적인 계산 전략

**🔍 Step 1: 문제 분석**
- 함수 형태 확인 ($$x^2 + y^2$$, $$xyz$$ 등)
- 적분 영역의 기하학적 모양 파악
- 대칭성 여부 확인

**🔍 Step 2: 좌표계 선택**
- **원/구 관련** → 극좌표/구면좌표
- **원기둥 관련** → 원통좌표
- **복잡한 경계** → 직교좌표에서 Type 변경

**🔍 Step 3: 적분 순서 최적화**
- 상수 적분한계를 내측으로
- 복잡한 함수를 외측으로
- 대칭성 활용 가능한 순서

### 🏆 고득점 전략

**✅ 계산 검증 방법**
- 차원 분석 (면적, 부피, 질량 단위 확인)
- 특수한 경우로 검산 (단위원, 단위정육면체 등)
- 대칭성으로 부호 확인

**✅ 시간 단축 팁**
- 변수 분리 가능한지 먼저 확인
- 표준 적분값 암기 ($$\int_0^{2\pi} \sin^2\theta \, d\theta = \pi$$ 등)
- 야코비안 공식 정확히 외우기

**✅ 실수 방지법**
- 적분한계를 그래프로 확인
- 좌표변환 후 영역 다시 확인  
- 야코비안 빠뜨리지 않았는지 체크

### 🚀 고급 테크닉

**🎯 대칭성 활용**
- 홀함수 × 대칭구간 = 0
- 짝함수 × 대칭구간 = 2 × (반구간 적분)

**🎯 Fubini 정리 활용**
- 연속함수면 적분 순서 바꿔도 됨
- 계산하기 쉬운 순서로 변경

**🎯 특별한 치환**
- $$u = x + y, v = x - y$$ (회전 변환)
- $$u = xy, v = \frac{y}{x}$$ (쌍곡선 좌표)
