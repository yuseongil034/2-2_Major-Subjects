# 📡 통신 프로토콜 완벽 정리 노트

> 전자공학과 시험 대비용 - 변조방식부터 OSI 7계층까지

---

## 📌 목차
1. [변조 방식 총정리](#1-변조-방식-총정리)
2. [디지털 변조 (Single Carrier)](#2-디지털-변조-single-carrier)
3. [다중화 기술](#3-다중화-기술)
4. [스마트 안테나](#4-스마트-안테나)
5. [통신 프로토콜 개요](#5-통신-프로토콜-개요)
6. [OSI 7계층 (초중요!)](#6-osi-7계층-초중요)
7. [물리 계층](#7-물리-계층)

---

## 1. 변조 방식 총정리

### 1.1 변조 방식 분류도

```
변조 방식
│
├─ 아날로그 변조
│  ├─ AM (Amplitude Modulation)
│  ├─ FM (Frequency Modulation)
│  ├─ PM (Phase Modulation)
│  └─ 펄스 변조 (PAM, PWM, PPM, PCM)
│
└─ 디지털 변조
   ├─ Single Carrier
   │  ├─ ASK (Amplitude Shift Keying)
   │  ├─ FSK (Frequency Shift Keying)
   │  ├─ PSK (Phase Shift Keying)
   │  └─ QAM (Quadrature Amplitude Modulation)
   │
   ├─ Multi Carrier
   │  └─ OFDM (Orthogonal FDM)
   │
   └─ 대역 확산 (Spread Spectrum)
      └─ CDMA (Code Division Multiple Access)
```

> 💡 **구분 포인트**: 
> - 아날로그 변조 = 아날로그 신호 입력
> - 디지털 변조 = 디지털 신호 입력 (0과 1)

---

## 2. 디지털 변조 (Single Carrier)

### 2.1 ASK (Amplitude Shift Keying) - 진폭 편이 변조

**원리**: 디지털 신호의 0과 1에 따라 **반송파의 진폭**을 바꿈

```
디지털 신호:  1    1    0    1    0
              ↓    ↓    ↓    ↓    ↓
반송파(사인파)를 곱함
              ↓    ↓    ↓    ↓    ↓
ASK 결과:   ∿∿∿  ∿∿∿  ___  ∿∿∿  ___
           (큼)  (큼) (작음) (큼) (작음)
```

**과정**:
1. 디지털 신호(0 또는 1)를 준비
2. 반송파(사인파)를 곱함
3. **1인 부분**: 사인파가 큰 진폭으로 나타남
4. **0인 부분**: 사인파가 작은 진폭(또는 0)으로 나타남

**특징**:
- ✅ 구현이 가장 간단
- ❌ 잡음에 매우 약함 (진폭이 변하면 오류 발생)
- 사용 예: 광통신 (ON/OFF Keying)

---

### 2.2 FSK (Frequency Shift Keying) - 주파수 편이 변조

**원리**: 디지털 신호의 0과 1에 따라 **반송파의 주파수**를 바꿈

```
디지털 신호:  1         0         1         0
              ↓         ↓         ↓         ↓
주파수 선택
              ↓         ↓         ↓         ↓
FSK 결과:   ∿∿∿∿∿    ∿ ∿ ∿    ∿∿∿∿∿    ∿ ∿ ∿
          (높은 주파수) (낮은 주파수) (높은) (낮은)
          (촘촘함)      (넓음)
```

**과정**:
1. 두 개의 서로 다른 주파수를 준비
   - **1일 때**: 높은 주파수 (촘촘한 사인파)
   - **0일 때**: 낮은 주파수 (넓은 사인파)
2. 디지털 신호에 따라 주파수를 선택
3. 선택된 주파수의 사인파를 전송

**특징**:
- ✅ 잡음에 강함 (진폭 변화에 영향 안 받음)
- ✅ 구현 비교적 간단
- ❌ 대역폭을 많이 차지
- 사용 예: 전화 모뎀, 호출기(삐삐)

> 💡 **암기 팁**: 
> - 1 = 촘촘한(높은) 주파수
> - 0 = 넓은(낮은) 주파수

---

### 2.3 PSK (Phase Shift Keying) - 위상 편이 변조 ⭐⭐⭐

**원리**: 디지털 신호의 0과 1에 따라 **반송파의 위상**을 바꿈

#### BPSK (Binary PSK) - 2진 PSK

```
디지털 신호:  1         0         1         0
              ↓         ↓         ↓         ↓
위상 180도 차이
              ↓         ↓         ↓         ↓
BPSK 결과:   ∿∿∿     ∽∽∽      ∿∿∿     ∽∽∽
           (0도)   (180도)   (0도)   (180도)
```

**과정**:
1. 디지털 신호를 준비
2. **1일 때**: 위상 0° (또는 기준 위상)
3. **0일 때**: 위상 180° (반대 위상)
4. 위상이 바뀐 사인파를 전송

**특징**:
- ✅ **특성이 가장 좋음** (오류율 낮음)
- ✅ 180°는 가장 파악하기 쉬운 위상 차이
- 1주기 = 2π (360°) → 반절인 180°가 가장 명확

---

#### PSK 변형들

**위상 분할에 따른 분류**:

| 방식 | 위상 간격 | 비트/심볼 | 상태 수 | 설명 |
|------|-----------|-----------|---------|------|
| **BPSK** | 180° | 1 bit | 2개 | Binary PSK |
| **QPSK** | 90° | 2 bit | 4개 | Quadrature PSK |
| **8-PSK** | 45° | 3 bit | 8개 | 8진 PSK |

```
BPSK (180°):          QPSK (90°):           8-PSK (45°):
      0°                    0°                     0°
       ●                   ● ●                   ● ● ●
       │                   │ │                   │ │ │
   ────┼────           ────┼────            ────┼────
       │                   │ │                   │ │ │
       ●                   ● ●                   ● ● ●
     180°               90° 270°              45° 90° ...
   (2개 상태)           (4개 상태)            (8개 상태)
```

**계산**:
- QPSK: 한 심볼당 2비트 전송 → 전송률 2배
- 8-PSK: 한 심볼당 3비트 전송 → 전송률 3배

> ⚠️ **주의**: 위상 간격이 좁아질수록
> - ✅ 전송률 증가
> - ❌ 오류율 증가 (구분이 어려워짐)

---

### 2.4 QAM (Quadrature Amplitude Modulation)

**4진 진폭 편이 변조** - PSK의 고급 버전

**원리**: **진폭과 위상을 동시에 변조**

```
        진폭
         ↑
    ● ● ● ●    16-QAM
    ● ● ● ●    (16개 상태)
    ● ● ● ●    = 4 bit/symbol
    ● ● ● ●
  ────────→ 위상
```

**특징**:
- PSK + ASK의 조합
- 매우 높은 전송률 (64-QAM, 256-QAM 등)
- WiFi, LTE에서 사용

> 💡 **시험 팁**: QAM은 "진폭 + 위상" 모두 변조!

---

## 3. 다중화 기술

### 3.1 다중화(Multiplexing)란?

**여러 개의 신호를 하나의 회선으로 동시에 전송하는 기술**

```
[단말 A] ──┐
[단말 B] ──┤ [MUX] ═══════ [DEMUX] ──┬→ [컴퓨터 A]
[단말 C] ──┘                        ├→ [컴퓨터 B]
                                    └→ [컴퓨터 C]
         (다중화 장치)  (1개 회선)  (역다중화)
```

**3가지 주요 방식**:
1. **TDM** (Time Division Multiplexing) - 시간 분할
2. **FDM** (Frequency Division Multiplexing) - 주파수 분할
3. **CDM** (Code Division Multiplexing) - 코드 분할

---

### 3.2 TDM (시분할 다중화) ⭐⭐⭐

#### 기본 원리

**시간을 잘게 나눠서 순서대로 전송**

```
구성: [단말기] → [MUX] → [회선] → [DEMUX] → [컴퓨터]
```

#### TDM 동작 과정 (자세한 설명!)

**1단계: 시간 슬롯 할당**

```
시간 →
├─┼─┼─┼─┼─┼─┼─┼─┼─┤
 A B C A B C A B C
```

- 각 단말기에 일정한 시간 슬롯을 할당
- **순환 방식**으로 반복

**2단계: 데이터 배치**

```
단말 A: [A1] [A2] [A3] ...
단말 B: [B1] [B2] [B3] ...
단말 C: [C1] [C2] [C3] ...
```

각 단말기가 보낼 데이터를 준비

**3단계: 시간 순서대로 전송**

```
회선: [A1][B1][C1][A2][B2][C2][A3][B3][C3]...
       ↑   ↑   ↑   ↑   ↑   ↑
      타임슬롯들이 순환하며 전송
```

**구체적인 예시**:

```
단말 A가 "HELLO" 전송
단말 B가 "WORLD" 전송  
단말 C가 "12345" 전송

시간 순서:
t1: H (A의 첫 글자)
t2: W (B의 첫 글자)
t3: 1 (C의 첫 글자)
t4: E (A의 둘째 글자)
t5: O (B의 둘째 글자)
t6: 2 (C의 둘째 글자)
t7: L (A의 셋째 글자)
...

회선 전송: H-W-1-E-O-2-L-R-3-L-L-4-O-D-5
```

**4단계: DEMUX에서 분리**

```
수신측 DEMUX:
A 슬롯만 모으기: H E L L O → "HELLO"
B 슬롯만 모으기: W O R L D → "WORLD"
C 슬롯만 모으기: 1 2 3 4 5 → "12345"
```

#### TDM의 핵심 개념

**동기화 (Synchronization)**
- 송신측과 수신측의 **시간 슬롯이 정확히 일치**해야 함
- 클럭(Clock) 신호로 동기 유지

**프레임 구조**
```
┌─────┬───┬───┬───┬───┬───┬───┐
│ Sync│ A │ B │ C │ A │ B │ C │ ...
└─────┴───┴───┴───┴───┴───┴───┘
  동기   타임슬롯들 (반복)
```

#### TDM 특징

**장점**:
- ✅ 대역폭을 시간으로 나눠서 효율적 사용
- ✅ 디지털 전송에 적합
- ✅ 구현이 비교적 간단

**단점**:
- ❌ 동기화 필수 (동기 안 맞으면 데이터 섞임)
- ❌ 한 단말기가 데이터 없어도 슬롯 차지 (비효율)

**해결책: 통계적 TDM (Statistical TDM)**
- 데이터 있는 단말기만 슬롯 할당
- 더 효율적이지만 복잡함

---

### 3.3 FDM (주파수 분할 다중화)

#### 기본 원리

**주파수 대역을 나눠서 동시에 전송**

```
주파수
  ↑
  │ ┌───┐ 단말 C (높은 주파수)
  │ │   │
  │ ├───┤ 단말 B (중간 주파수)
  │ │   │
  │ ├───┤ 단말 A (낮은 주파수)
  │ │   │
  └─┴───┴──→ 시간
    각 채널이 다른 주파수 대역 사용
```

#### FDM 동작 과정

**1단계: 주파수 대역 할당**
```
단말 A: 0~4 kHz
단말 B: 4~8 kHz
단말 C: 8~12 kHz
```

**2단계: 각각 변조**
- 각 신호를 **서로 다른 반송파 주파수**로 변조
- 변조 개수 = 단말기 개수

**3단계: 주파수 다중화**
```
    A신호(낮음) + B신호(중간) + C신호(높음)
         ↓
    하나의 회선에 모두 실어서 전송
```

**4단계: 수신측에서 분리**
- 필터를 사용해 주파수 대역별로 분리
- 각 신호를 복조

#### FDM 특징

**장점**:
- ✅ 동시 전송 가능 (시간 나눌 필요 없음)
- ✅ 아날로그/디지털 모두 사용 가능
- ✅ 실시간 전송

**단점**:
- ❌ 주파수는 **엄격히 규제** (정부 허가 필요)
- ❌ 보호 대역(Guard Band) 필요 (간섭 방지)
- ❌ 변조기가 단말기 수만큼 필요 (비용 증가)

**사용 예**:
- 라디오 방송 (각 방송국이 다른 주파수)
- 케이블 TV
- ADSL

---

### 3.4 CDM (코드 분할 다중화) / CDMA ⭐⭐⭐

#### 기본 원리

**각 단말기에 고유한 코드를 할당하여 신호를 구분**

= **대역 확산(Spread Spectrum) 방식**

```
원리: 신호 × PN 코드 = 확산된 신호
```

#### CDMA 동작 과정 (단계별 설명)

**1단계: PN 코드 생성**

**PN 코드** = Pseudo Noise (의사 잡음) 코드
- "가짜 잡음처럼 보이는 코드"
- 실제로는 규칙적이지만 겉으로는 랜덤처럼 보임
- 각 사용자마다 **고유한 PN 코드** 할당

```
사용자 A의 PN 코드: [+1, -1, +1, +1, -1, -1, +1, -1]
사용자 B의 PN 코드: [+1, +1, -1, +1, +1, -1, -1, +1]
사용자 C의 PN 코드: [-1, +1, +1, -1, +1, -1, +1, +1]
```

**2단계: 확산 (Spreading)**

**원본 신호 × PN 코드 = 확산 신호**

```
원본 데이터: [1]  (1비트)
            × 
PN 코드: [+1, -1, +1, +1, -1, -1, +1, -1]  (8칩)
            ↓
확산 신호: [+1, -1, +1, +1, -1, -1, +1, -1]
```

> 💡 **핵심**: 1비트가 8칩(chip)으로 확장됨  
> → 주파수 대역이 **약 8배 넓어짐**

**실제로는 120배 정도 확산** (제공된 자료 기준)

**3단계: 스펙트럼 확산 효과**

```
주파수 영역:

원본 신호:     │
스펙트럼  ∧    │  좁은 대역폭
         │ │   │
      ───┴─┴───┴───→ 주파수

확산 후:
스펙트럼    ∧∧∧∧∧  넓은 대역폭 (120배)
         ∿∿∿∿∿∿∿∿
      ───────────────→ 주파수
        (낮고 넓게 퍼짐)
```

**중요 특성**:
- 확산된 신호는 **잡음처럼 보임** (낮은 스펙트럼)
- 실제로는 정보가 숨어 있음

**4단계: 다중 사용자 동시 전송**

```
회선:
A의 확산 신호 + B의 확산 신호 + C의 확산 신호
           ↓
      모두 섞여서 전송
     (겉보기에는 잡음)
```

**5단계: 역확산 (Despreading)**

**수신측에서 같은 PN 코드로 곱하면 원신호 복원**

```
(확산 신호 × PN 코드) ÷ PN 코드 = 원본 신호
```

**수학적 원리**:
```
원본 데이터 = D
PN 코드 = P

확산: D × P
역확산: (D × P) × P = D × (P × P) = D × 1 = D

∵ P × P = 1 (PN 코드의 자기상관 특성)
```

**구체적 예시**:
```
수신 신호 (A+B+C 섞임)
         ×
A의 PN 코드
         ↓
A의 원본 신호만 복원! (B, C는 잡음으로 사라짐)
```

#### CDMA의 핵심 기술

**1. PN 코드의 특성**
- **직교성(Orthogonality)**: 서로 다른 PN 코드끼리는 곱하면 0
- **자기상관**: 같은 PN 코드끼리 곱하면 1

```
PN_A × PN_A = 1  (자기 자신)
PN_A × PN_B = 0  (다른 코드)
```

**2. 처리 이득 (Processing Gain)**

$$ G_p = \frac{\text{확산 대역폭}}{\text{원신호 대역폭}} $$

- 120배 확산 → 처리 이득 = 120
- 처리 이득이 클수록 잡음에 강함

#### CDMA 특징

**장점**:
- ✅ **같은 주파수를 모두 동시 사용** (주파수 효율 최고)
- ✅ 잡음 및 간섭에 매우 강함
- ✅ 보안성 우수 (PN 코드 모르면 해독 불가)
- ✅ 소프트 핸드오프 가능 (통화 끊김 없음)

**단점**:
- ❌ 구현 매우 복잡
- ❌ 동기화 중요 (Near-Far 문제)
- ❌ 전력 제어 필수

**사용 예**:
- 3G 이동통신 (CDMA2000, WCDMA)
- GPS
- 군사 통신

---

### 3.5 다중화 방식 비교

| 방식 | 분할 기준 | 동시 전송 | 동기화 | 복잡도 | 사용 예 |
|------|----------|----------|--------|--------|---------|
| **TDM** | 시간 | ✗ | 필수 | 낮음 | 디지털 전화 |
| **FDM** | 주파수 | ✓ | 불필요 | 중간 | 라디오, TV |
| **CDM** | 코드 | ✓ | 필수 | 높음 | 3G 이동통신 |

> 💡 **시험 암기**:
> - TDM = **시간**을 나눔, 순서대로
> - FDM = **주파수**를 나눔, 변조기 多
> - CDM = **코드**로 구분, PN 코드 × 확산

---

## 4. 스마트 안테나

### 4.1 스마트 안테나 기술

**사용자 움직임에 따라 안테나 빔을 조정하는 기술**

```
      ∧∧∧  빔이 사용자를 따라감
     /│││\
    / │││ \
   ◄──┘└┘──►
       │
    [기지국]
       │
    사용자 이동 →
```

#### 핵심 원리

**안테나 어레이(Array) 사용**
```
[안테나1] [안테나2] [안테나3] [안테나4]
    └──────┴──────┴──────┘
         빔포밍(Beamforming)
```

- 여러 안테나를 배열로 구성
- 각 안테나의 **위상을 조절**해서 특정 방향으로 빔 집중

#### 특징 및 효과

**용량 증가**:
- **안테나 수에 비례**하여 시스템 용량 증가
- 4개 안테나 → 약 4배 용량 증가

**간섭 감소**:
- 원하는 방향으로만 빔 전송
- 다른 사용자에게 간섭 최소화

**사용 기술**:
- MIMO (Multiple Input Multiple Output)
- Massive MIMO (5G)

---

## 5. 통신 프로토콜 개요

### 5.1 프로토콜이란?

**Protocol** = 통신 규약

> "외교상의 의례나 의정서"

**컴퓨터 간 통신을 위한 규칙과 약속**

#### 프로토콜의 3요소

1. **구문(Syntax)**: 데이터 형식, 부호화, 신호 레벨
2. **의미(Semantics)**: 제어 정보, 오류 처리
3. **타이밍(Timing)**: 속도 조절, 순서 제어

#### 표준화 기구

**CCITT** (Consultative Committee for International Telegraph and Telephone)
- 현재는 **ITU-T**로 이름 변경
- 국제 전기통신 표준 제정

---

## 6. OSI 7계층 (초중요!) ⭐⭐⭐

### 6.1 OSI 7계층 개요

**OSI** = Open Systems Interconnection

**국제 표준 통신 프로토콜 모델** (반드시 암기!)

```
┌─────────────────┐
│  7. 응용 계층    │  Application
├─────────────────┤
│  6. 표현 계층    │  Presentation
├─────────────────┤
│  5. 세션 계층    │  Session
├─────────────────┤
│  4. 전송 계층    │  Transport
├─────────────────┤
│  3. 네트워크 계층 │  Network
├─────────────────┤
│  2. 데이터링크계층│  Data Link
├─────────────────┤
│  1. 물리 계층    │  Physical
└─────────────────┘
```

> 💡 **암기법**: 
> - **아파서 전화 네 데이타를 달라고 물었어** 
> - **응표세전네데물** (응용-표현-세션-전송-네트워크-데이터링크-물리)
> - 영어: **APSTNDP** (All People Seem To Need Data Processing)

---

### 6.2 각 계층의 역할

#### 7계층: 응용 계층 (Application Layer)

**사용자와 직접 상호작용하는 계층**

```
[사용자] ←→ [응용 계층]
              ↓
         (앱, 프로그램)
```

**역할**:
- 사용자 인터페이스 제공
- 애플리케이션 서비스 제공

**예시**:
- HTTP (웹 브라우저)
- FTP (파일 전송)
- SMTP (이메일)
- DNS (도메인 이름 서비스)

**사용자가 속한 계층**: 응용 계층

---

#### 6계층: 표현 계층 (Presentation Layer)

**데이터의 표현 형식을 관리**

**역할**:
- 데이터 인코딩/디코딩
- 암호화/복호화
- 압축/압축 해제
- 데이터 형식 변환

**예시**:
- JPEG, MPEG (이미지/비디오 압축)
- ASCII, EBCDIC (문자 인코딩)
- SSL/TLS (암호화)

---

#### 5계층: 세션 계층 (Session Layer)

**통신 세션을 관리**

**역할**:
- 세션 설정, 유지, 종료
- 대화 제어 (반이중/전이중)
- 동기점(Checkpoint) 설정

**예시**:
- RPC (Remote Procedure Call)
- NetBIOS
- 화상 회의 시스템

---

#### 4계층: 전송 계층 (Transport Layer)

**종단 간(End-to-End) 신뢰성 있는 데이터 전송**

**역할**:
- 오류 검출 및 복구
- 흐름 제어 (Flow Control)
- 순서 제어
- 포트 번호로 프로세스 구분

**주요 프로토콜**:
- **TCP**: 연결 지향, 신뢰성 보장
- **UDP**: 비연결, 빠른 전송

**데이터 단위**: 세그먼트 (Segment)

---

#### 3계층: 네트워크 계층 (Network Layer)

**라우팅 - 최적 경로 선택**

**역할**:
- 논리 주소 지정 (IP 주소)
- 라우팅 (경로 설정)
- 패킷 포워딩
- 혼잡 제어

**주요 프로토콜**:
- **IP** (Internet Protocol)
- ICMP (Ping)
- ARP, RARP

**데이터 단위**: 패킷 (Packet)

**장비**: 라우터 (Router)

---

#### 2계층: 데이터 링크 계층 (Data Link Layer)

**직접 연결된 노드 간 신뢰성 있는 전송**

**역할**:
- 프레임 구성
- 물리 주소 지정 (MAC 주소)
- 오류 검출 (CRC)
- 흐름 제어

**주요 프로토콜**:
- Ethernet
- PPP
- HDLC

**데이터 단위**: 프레임 (Frame)

**장비**: 스위치 (Switch), 브리지 (Bridge)

---

#### 1계층: 물리 계층 (Physical Layer)

**물리적 전송 매체를 통한 비트 전송**

**역할**:
- 비트를 전기 신호로 변환
- 물리적 연결 관리
- 전송 속도, 전압 등 정의

**예시**:
- 케이블 (UTP, 광섬유)
- 허브 (Hub)
- 리피터 (Repeater)

**데이터 단위**: 비트 (Bit)

---

### 6.3 데이터 전송 과정 (캡슐화) ⭐⭐⭐

#### 캡슐화 (Encapsulation)

**송신 측: 데이터가 아래로 내려가며 헤더 추가**

```
[응용 계층]
   Data
     ↓
[표현 계층]
   Data (변환/암호화)
     ↓
[세션 계층]
   Data
     ↓
[전송 계층]
  [H4] Data  ← 헤더 추가
     ↓
[네트워크 계층]
  [H3][H4] Data  ← 헤더 추가
     ↓
[데이터링크 계층]
  [H2][H3][H4] Data [T2]  ← 헤더+트레일러
     ↓
[물리 계층]
  01010101... (비트 스트림)
```

**핵심 원리**:
1. 응용 계층에서 데이터 생성
2. 아래로 한 단계씩 내려가며 **헤더(Header) 추가**
3. **각 계층에서는 상위 계층의 (헤더+데이터)를 모두 데이터로 취급**
4. 물리 계층에서 비트로 전송

**예시**:
```
7계층: [Hello]
6계층: [Hello] (그대로)
5계층: [Hello] (그대로)
4계층: [TCP헤더][Hello]  → 전체가 4계층 데이터
3계층: [IP헤더][TCP헤더][Hello]  → 전체가 3계층 데이터
2계층: [이더넷헤더][IP헤더][TCP헤더][Hello][FCS]
1계층: 01010101... 전송
```

---

#### 역캡슐화 (Decapsulation)

**수신 측: 비트가 위로 올라가며 헤더 제거**

```
[물리 계층]
  01010101... (비트 수신)
     ↓
[데이터링크 계층]
  [H2][H3][H4] Data [T2]
   └─→ H2, T2 제거, 위로 전달
     ↓
[네트워크 계층]
  [H3][H4] Data
   └─→ H3 제거, 위로 전달
     ↓
[전송 계층]
  [H4] Data
   └─→ H4 제거, 위로 전달
     ↓
[세션/표현/응용]
   Data (원본 데이터)
```

**과정**:
1. 물리 계층에서 비트 수신
2. 위로 한 단계씩 올라가며 **각 계층의 헤더 제거**
3. 해당 계층에서 헤더 정보 해석
4. 순수 데이터만 위 계층으로 전달
5. 응용 계층에서 원본 데이터 복원

---

#### 실제 전송 흐름도

```
송신 측                                       수신 측
┌─────────┐                               ┌─────────┐
│ 응용(7) │ Data                    Data │ 응용(7) │
├─────────┤   ↓                       ↑   ├─────────┤
│ 표현(6) │ Data                    Data │ 표현(6) │
├─────────┤   ↓                       ↑   ├─────────┤
│ 세션(5) │ Data                    Data │ 세션(5) │
├─────────┤   ↓                       ↑   ├─────────┤
│ 전송(4) │[H4]Data            [H4]Data │ 전송(4) │
├─────────┤   ↓                       ↑   ├─────────┤
│ 네트워크(3)│[H3][H4]Data    [H3][H4]Data│네트워크(3)│
│         │   ↓                       ↑   │         │
│  라우터 ├───┼───────────────────────┼───┤  라우터 │
│         │   ↓                       ↑   │         │
├─────────┤   ↓                       ↑   ├─────────┤
│데이터링크(2)│[H2]...[T2]      [H2]...[T2]│데이터링크(2)│
├─────────┤   ↓                       ↑   ├─────────┤
│ 물리(1) │ 01010... ═════════►  01010...│ 물리(1) │
└─────────┘         (전송 매체)          └─────────┘
```

**중요 포인트**:
- 물리, 데이터링크, 네트워크 계층은 **중간 경유지**(라우터)에서도 거침
- 전송~응용 계층은 **종단 간(End-to-End)** 통신

> 💡 **시험 포인트**: 
> - 캡슐화 = 헤더 **추가** (아래로)
> - 역캡슐화 = 헤더 **제거** (위로)
> - 각 계층에서 상위 데이터는 모두 **페이로드(Payload)**로 취급

---

### 6.4 DTE와 DCE

#### DTE (Data Terminal Equipment)
**데이터 단말 장치**
- 사용자 측 장비
- 예: 컴퓨터, 서버, 단말기

#### DCE (Data Communication Equipment)
**데이터 통신 장치**
- 통신 회선과 연결하는 장비
- 예: 모뎀, CSU/DSU

```
[DTE] ←→ [DCE] ═══ 통신 회선 ═══ [DCE] ←→ [DTE]
(컴퓨터)  (모뎀)                  (모뎀)  (컴퓨터)
```

---

## 7. 물리 계층

### 7.1 물리 계층의 역할

**DTE와 DCE 간의 물리적 연결 규정**

```
[DTE] ←─ 물리 계층 규격 ─→ [DCE]
(단말기)                    (모뎀)
```

**물리적으로 어떤 규격을 맞춰 장치를 만들어야 하는지 규정**

---

### 7.2 물리 계층의 4가지 특성 ⭐⭐⭐

#### 1. 기계적 특성 (Mechanical)

**커넥터의 물리적 형태**

**규정 내용**:
- 커넥터 모양과 크기
- 핀의 개수와 배치
- 케이블 규격

**예시**:
```
RS-232C: 25핀 또는 9핀 D-sub 커넥터
USB: Type-A, Type-B, Type-C
RJ-45: 8핀 이더넷 커넥터
```

> 💡 **비유**: USB Type-C와 Micro-USB가 안 맞는 이유!

---

#### 2. 전기적 특성 (Electrical)

**신호의 전압, 전류, 임피던스 등**

**규정 내용**:
- 전압 레벨 (얼마의 전압이 0과 1인가?)
- 전류의 크기
- 임피던스 (저항)
- 신호의 타이밍

**예시**:
```
RS-232C:
  논리 1 (Mark): -3V ~ -25V
  논리 0 (Space): +3V ~ +25V

TTL:
  논리 1: +2.4V ~ +5V
  논리 0: 0V ~ +0.8V
```

**중요 이유**:
- 전압이 틀리면 신호 인식 불가
- 잡음에 대한 여유(Noise Margin) 확보

---

#### 3. 기능적 특성 (Functional)

**각 핀(회선)의 기능과 의미**

**규정 내용**:
- 각 신호선의 역할
- 데이터 전송 방향
- 제어 신호의 의미

**예시 - RS-232C 주요 핀**:
```
핀2 (TXD): 송신 데이터 (Transmit Data)
핀3 (RXD): 수신 데이터 (Receive Data)
핀4 (RTS): 송신 요구 (Request To Send)
핀5 (CTS): 송신 가능 (Clear To Send)
핀6 (DSR): 데이터 세트 준비 (Data Set Ready)
핀7 (GND): 신호 접지 (Ground)
```

**동작 예시**:
```
1. DTE가 RTS 신호를 올림 (송신 요청)
2. DCE가 준비되면 CTS 신호를 올림
3. DTE가 TXD로 데이터 전송
4. DCE가 RXD로 데이터 수신
```

---

#### 4. 절차적 특성 (Procedural)

**신호들의 순서와 타이밍**

**규정 내용**:
- 통신 시작/종료 절차
- 신호의 순서
- 각 상태에서 허용되는 동작

**예시 - 통신 시작 절차**:
```
단계 1: DCE가 DSR 신호 ON (준비 완료)
        ↓
단계 2: DTE가 DTR 신호 ON (단말기 준비)
        ↓
단계 3: DTE가 RTS 신호 ON (송신 요청)
        ↓
단계 4: DCE가 CTS 신호 ON (송신 허가)
        ↓
단계 5: 데이터 전송 시작
```

**타이밍 다이어그램**:
```
시간 →
DSR: ────┐                    ┌─────
         └────────────────────┘
DTR: ─────────┐            ┌─────
              └────────────┘
RTS: ──────────────┐    ┌─────
                   └────┘
CTS: ───────────────────┐┌─────
                        └┘
TXD: ────────────────────[데이터]─
```

---

### 7.3 물리 계층 4가지 특성 정리표

| 특성 | 영어 | 규정 내용 | 예시 |
|------|------|-----------|------|
| **기계적** | Mechanical | 커넥터 모양, 핀 배치 | 25핀 D-sub, USB Type-C |
| **전기적** | Electrical | 전압, 전류, 임피던스 | +5V=1, 0V=0 |
| **기능적** | Functional | 각 핀의 역할 | TXD=송신, RXD=수신 |
| **절차적** | Procedural | 신호의 순서와 타이밍 | RTS → CTS → 전송 |

> 💡 **암기법**: **기전기절** (기계-전기-기능-절차)

---

### 7.4 대표적인 물리 계층 표준

#### RS-232C
- 가장 널리 알려진 직렬 통신 표준
- 최대 거리: 15m
- 최대 속도: 20kbps
- 사용: 모뎀, 구형 시리얼 포트

#### RS-422, RS-485
- 차동 신호 방식 (잡음에 강함)
- 더 긴 거리, 더 빠른 속도
- 산업용 통신

#### V.24, V.28
- ITU-T(구 CCITT) 표준
- RS-232C와 유사

---

## 8. 실전 문제 풀이 팁 💡

### 꿀팁 1: 변조 방식 구분

| 키워드 | 답 |
|--------|-----|
| "진폭 변화" | ASK |
| "주파수 변화" | FSK |
| "위상 변화" | PSK |
| "180도" | BPSK |
| "90도" | QPSK |
| "45도" | 8-PSK |
| "진폭+위상" | QAM |

---

### 꿀팁 2: 다중화 구분

| 키워드 | 답 |
|--------|-----|
| "시간 슬롯", "순서대로" | TDM |
| "주파수 대역", "동시 전송" | FDM |
| "PN 코드", "확산" | CDM/CDMA |
| "변조기 여러 개" | FDM |
| "A1B1C1A2B2C2" | TDM |

---

### 꿀팁 3: OSI 7계층 암기

**위에서 아래로 (7→1)**:
```
응용 (Application)     - 사용자 앱
표현 (Presentation)    - 암호화, 압축
세션 (Session)         - 세션 관리
전송 (Transport)       - TCP/UDP
네트워크 (Network)     - IP, 라우팅
데이터링크 (Data Link) - MAC, 프레임
물리 (Physical)        - 비트, 전기신호
```

**데이터 단위**:
- 전송: **세그먼트** (Segment)
- 네트워크: **패킷** (Packet)
- 데이터링크: **프레임** (Frame)
- 물리: **비트** (Bit)

---

### 꿀팁 4: 물리 계층 4특성

**기계적**: "커넥터 **모양**" → Mechanical
**전기적**: "전압 **몇 볼트**" → Electrical
**기능적**: "이 핀은 **무슨 역할**" → Functional
**절차적**: "신호 **순서**" → Procedural

---

### 꿀팁 5: 자주 나오는 함정

#### ❌ 틀린 말
- "BPSK는 90도 위상 변조다"
  - ✅ 정답: **180도**

- "TDM은 동시에 전송한다"
  - ✅ 정답: **순서대로** 전송 (시간 나눔)

- "FDM은 동기화가 필수다"
  - ✅ 정답: 동기화 **불필요** (주파수로 분리)

- "CDMA는 PN 코드를 나눈다"
  - ✅ 정답: PN 코드를 **곱한다** (확산)

- "캡슐화는 헤더를 제거한다"
  - ✅ 정답: 헤더를 **추가** (역캡슐화가 제거)

---

## 9. 시험 직전 최종 체크리스트 ✅

### 필수 암기 사항

**1. 디지털 변조 3가지**
- ASK: 진폭
- FSK: 주파수
- PSK: 위상 (BPSK=180°, QPSK=90°, 8-PSK=45°)

**2. 다중화 3가지**
- TDM: 시간 분할 (A1B1C1A2B2C2...)
- FDM: 주파수 분할 (변조기 多, 동시 전송)
- CDM: 코드 분할 (PN 코드 × 확산)

**3. OSI 7계층** (무조건 암기!)
```
7. 응용 (Application)
6. 표현 (Presentation)
5. 세션 (Session)
4. 전송 (Transport) - TCP/UDP
3. 네트워크 (Network) - IP, 라우팅
2. 데이터링크 (Data Link) - MAC
1. 물리 (Physical) - 비트
```

**4. 물리 계층 4특성**
- 기계적: 커넥터 모양
- 전기적: 전압, 전류
- 기능적: 핀 역할
- 절차적: 신호 순서

**5. 캡슐화 vs 역캡슐화**
- 캡슐화: 아래로 내려가며 헤더 **추가**
- 역캡슐화: 위로 올라가며 헤더 **제거**

---

### 계산/개념 문제 대비

**PSK 계산**:
- BPSK: 1 bit/symbol
- QPSK: 2 bit/symbol → 전송률 2배
- 8-PSK: 3 bit/symbol → 전송률 3배

$ \text{위상 간격} = \frac{360°}{2^n} $

여기서 $ n $ 은 비트 수

**CDMA 처리 이득**:

$ G_p = \frac{\text{확산 대역폭}}{\text{원신호 대역폭}} $

---

## 10. 마무리 정리

### 전체 흐름도

```
통신 시스템
│
├─ 변조 기술
│  ├─ 아날로그: AM, FM, PM
│  └─ 디지털: ASK, FSK, PSK, QAM
│
├─ 다중화 기술
│  ├─ TDM (시간)
│  ├─ FDM (주파수)
│  └─ CDM (코드)
│
└─ 프로토콜
   └─ OSI 7계층
      ├─ 7-5: 상위 계층 (사용자 측)
      ├─ 4: 전송 계층 (종단간)
      └─ 3-1: 하위 계층 (네트워크)
```

---

### 공부 전략

**1일차**: 변조 방식 (ASK, FSK, PSK 집중)
**2일차**: 다중화 (TDM, FDM, CDMA - 원리 이해!)
**3일차**: OSI 7계층 (각 계층 역할 암기)
**4일차**: 캡슐화, 물리 계층 4특성
**5일차**: 전체 복습 + 기출 문제

---

## 📚 참고사항

### 용어 정리

- **MUX**: Multiplexer (다중화 장치)
- **DEMUX**: Demultiplexer (역다중화 장치)
- **PN 코드**: Pseudo Noise Code (의사 잡음 코드)
- **Spreading**: 확산
- **Despreading**: 역확산
- **DTE**: Data Terminal Equipment (단말 장치)
- **DCE**: Data Communication Equipment (통신 장치)

---

### 더 공부하면 좋은 주제

1. TCP vs UDP 비교
2. IP 주소 체계 (IPv4, IPv6)
3. 이더넷 프레임 구조
4. 흐름 제어 vs 오류 제어
5. MIMO 기술 상세
6. 5G 통신 기술

---

## 🎯 마지막 당부

> **"개념은 그림으로, 순서는 흐름으로!"**

시험 볼 때:
1. **OSI 7계층** 먼저 적어놓기 (헷갈릴 때 참고)
2. **다중화 방식** 키워드 확인 (시간? 주파수? 코드?)
3. **캡슐화** 방향 주의 (송신=아래로, 수신=위로)
4. **PSK 위상** 계산 실수 주의 (180°, 90°, 45°)

**화이팅! 🔥**

---

<center>

**작성일**: 2025-10-03  
**버전**: 1.0  
**과목**: 통신 프로토콜 개론

*이 문서는 GitHub에 업로드 가능한 마크다운 형식입니다.*

</center>
